# Решение тестового задания "Калькулятор"

После полученного замечания, весь проект был сжат до одной директории и 4-ёх файлов (за исключением не относящихся к коду go.mod, .git, .gitignore, и самого Readme.md).

После полученного второго замечания, часть файлов была перенесена в новую директорию для разграничения пакетов (что необходимо для явной ссылки на пакет из файла `main.go`. Был также добавлен небольшой `Makefile` для удобства.

Для запуска можно воспользоваться утилитой `make`:
```
make
```
Все перечисленные варианты запуска возможны:
```
go run main.go
go run calculator
go build
```
## Требования к программе:
- :heavy_check_mark: Калькулятор умеет выполнять операции **сложения** ('\+'), **вычитания** ('\-'), **умножения** ('\*') и **деления** ('\/') двух операндов, записанных в одну строку и разделённых одним из перечисленных операторов. Пробельные символы (пробел и табуляция) игнорируются при записи. 
- :heavy_check_mark: Калькулятор работает как с **арабскими**, так и с **римскими** числами ('I/i', 'V/v', 'X/x', 'L/l', 'C/c').
- :heavy_check_mark: Калькулятор принимает на вход положительные числа **от 1 до 10**.
- :heavy_check_mark: Калькулятор работает только с целыми числами.
- :heavy_check_mark: Калькулятор имеет два режима работы: работа с римской записью чисел и с арабской. Один режим исключает другой -- задействование чисел одной записи в режиме другой записи генерирует *"панику"* и выход из программы.
- :heavy_check_mark: Ответ калькулятора также зависит от режима записи чисел: вводу в арабской записи следует вывод в той же записи, и наоборот.
- :heavy_check_mark: Несоответствующие условиям числа (разрешены значения от 1 до 10 римской или арабской записи) генерируют *"панику"* и выход из программы.
- :heavy_check_mark: Несоответствующие условиям cтроки также генерируют *"панику"* и выход из программы (например, лишние символы в конце строки или операнда. Это не распространяется на пробельные символы).
- :heavy_check_mark: Результатом операции всегда является целое число
- :heavy_check_mark: Результатом операции с арабскими числами также может быть ноль или отрицательное число. Попытка вывода ноля или отрицательного числа в римской записи генерирует *"панику"* и выход из программы.


## Краткое описание

Проект состоит из трёх пакетов. Первый из них содержит логику обработки ASCII символов для перевода символьного представления числа в оперируемое и наоборот. Второй содержит основные типы и методы калькулятора со вспомогательными функциями. Третий же является хранилищем строк для генерации сообщений об ошибках.

Решение основано на структуре, требования задания реализуются посредством операций **'Write'** и **'Read'** интерфейсов 'Writer' и 'Reader' соответственно. При единичном чтении выражения в объект структуры 'Expr' записываются сразу все поля:
1. Тип записи чисел: **арабская** или **римская**
2. Тип операции: **'sum'**, **'sub'**, **'mul'** или **'div'**
3. Значения обоих **операндов**
4. **Результат** операции

Результат вычисляется и записывается (и проверяется на ошибку) прямо во время записи операцией 'Write'. Сама запись проходит через следующие этапы (в коде это разделение выражено буквально через функции и методы): 
1. Проверка переданного слайса на наполненность
2. Поиск оператора (точка деления двух операндов на отдельные слайсы)
3. Установление типа записи чисел
4. Получение значений первого и второго операндов
5. Вычисление и сохранение результата

При чтении результата проверяется режим (поле 'mode'), установленный при записи операндов. В соответсвие с ним результат выводится посредством соответсвующей режиму функции ASCII.
